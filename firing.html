<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Open Studio - Firing Updates</title>
    <link rel="stylesheet" href="css/styles.css?v=3.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script>
        // Force a reload of the page
        window.onload = function() {
            if (!window.location.hash) {
                window.location = window.location + '#';
                window.location.reload();
            }
        }
    </script>
</head>
<body>
    <header>
        <!-- Navigation will be loaded here -->
    </header>

    <main>
        <section class="firing-hero">
            <h1>Firing Updates</h1>
            <p>Stay informed about our kiln firing schedule and updates</p>
        </section>

        <section class="firing-content">
            <div class="firing-schedule">
                <h2>Firing Schedule</h2>
                <p>Stay informed about our kiln firing schedule and updates</p>
                
                <div class="firing-dates">
                    <div class="firing-date">
                        <h3>Previous Firing</h3>
                        <p class="date" id="previous-firing-date">Tuesday September 23rd, 2025</p>
                        <p class="status completed">Completed</p>
                        <p class="temperature">Low Fire</p>
                    </div>
                    <div class="firing-date">
                        <h3>Next Firing</h3>
                        <p class="date" id="next-firing-date">Tuesday October 1st, 2025</p>
                        <p class="status upcoming">Upcoming</p>
                        <p class="temperature">Low Fire</p>
                    </div>
                    <div class="firing-date future">
                        <h3>Following Firing</h3>
                        <p class="date" id="following-firing-date">Tuesday October 8th, 2025</p>
                        <p class="status scheduled">Scheduled</p>
                        <p class="temperature">Low Fire</p>
                    </div>
                </div>

                <p class="note">Important: All pieces must be placed on the bisque cart in the open studio space before the countdown below ends. This ensures proper scheduling and handling of your work.</p>
            </div>
            <div class="countdown-container">
                <h2>Next firing in...</h2>
                <div class="countdown">
                    <div class="countdown-item">
                        <span id="days">00</span>
                        <span>Days</span>
                    </div>
                    <div class="countdown-item">
                        <span id="hours">00</span>
                        <span>Hours</span>
                    </div>
                    <div class="countdown-item">
                        <span id="minutes">00</span>
                        <span>Minutes</span>
                    </div>
                </div>
            </div>


            <div class="firing-guidelines">
                <h2>Firing Guidelines</h2>
                <ul>
                    <li>All pieces must be completely dry before firing</li>
                    <li>For thick pieces or those with air pockets, allow for double the normal drying time</li>
                    <li>All pieces must be properly trimmed before bisque firing (no trimming during glazing)</li>
                    <li>Maximum height: 12 inches</li>
                    <li>Maximum width: 12 inches</li>
                    <li>All pieces must be properly labeled with your name and the date created</li>
                    <li>Pieces must be placed in the designated firing area</li>
                </ul>
            </div>

            <div class="firing-status">
                <h2>Current Status</h2>
                <p>All kilns are operational and running on schedule.</p>
                <p>For any questions about the firing schedule, please contact us at PotteryChicago@gmail.com</p>
            </div>
        </section>
    </main>

    <footer>
        <!-- Footer will be loaded here -->
    </footer>

    <script type="module" src="js/nav.js"></script>
    <script>
        // Function to get the next Tuesday at 9 PM
        function getNextTuesday() {
            const now = new Date();
            const daysUntilTuesday = (2 - now.getDay() + 7) % 7; // Tuesday is day 2
            const nextTuesday = new Date(now);
            nextTuesday.setDate(now.getDate() + (daysUntilTuesday === 0 ? 7 : daysUntilTuesday));
            nextTuesday.setHours(21, 0, 0, 0); // 9 PM
            
            // If it's already past 9 PM on Tuesday, get next Tuesday
            if (now.getDay() === 2 && now.getHours() >= 21) {
                nextTuesday.setDate(nextTuesday.getDate() + 7);
            }
            
            return nextTuesday;
        }

        // Function to get the previous Tuesday
        function getPreviousTuesday() {
            const now = new Date();
            const daysSinceTuesday = (now.getDay() - 2 + 7) % 7;
            const previousTuesday = new Date(now);
            previousTuesday.setDate(now.getDate() - (daysSinceTuesday === 0 ? 7 : daysSinceTuesday));
            previousTuesday.setHours(21, 0, 0, 0);
            return previousTuesday;
        }

        // Function to format date for display
        function formatDate(date) {
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            return date.toLocaleDateString('en-US', options);
        }

        // Update firing dates
        function updateFiringDates() {
            const previousTuesday = getPreviousTuesday();
            const nextTuesday = getNextTuesday();
            const followingTuesday = new Date(nextTuesday);
            followingTuesday.setDate(nextTuesday.getDate() + 7);

            document.getElementById('previous-firing-date').textContent = formatDate(previousTuesday);
            document.getElementById('next-firing-date').textContent = formatDate(nextTuesday);
            document.getElementById('following-firing-date').textContent = formatDate(followingTuesday);
        }

        // Get the date from the "Next Firing" event
        function getNextFiringDate() {
            return getNextTuesday();
        }

        // Update the countdown
        function updateCountdown() {
            const nextFiringDate = getNextFiringDate();
            const now = new Date();
            const timeLeft = nextFiringDate - now;

            if (timeLeft <= 0) {
                document.getElementById('days').textContent = '00';
                document.getElementById('hours').textContent = '00';
                document.getElementById('minutes').textContent = '00';
                // Update dates when firing has passed
                updateFiringDates();
                return;
            }

            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));

            document.getElementById('days').textContent = days.toString().padStart(2, '0');
            document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
            document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
        }

        // Initialize and update countdown every minute
        updateFiringDates();
        updateCountdown();
        setInterval(updateCountdown, 60000);
    </script>
</body>
</html> 